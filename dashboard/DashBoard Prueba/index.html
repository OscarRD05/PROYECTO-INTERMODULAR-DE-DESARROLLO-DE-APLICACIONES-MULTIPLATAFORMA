<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Dashboard Jefatura</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body class="bg-light">

<div class="container-fluid">
  <div class="row">

    <aside class="col-md-3 col-lg-2 bg-white border-end min-vh-100 p-3">
      <h5 class="mb-4">Panel de Control</h5>

      <ul class="nav flex-column gap-2">
        <li class="nav-item">
          <a id="btn-dashboard" class="nav-link active bg-primary-subtle text-primary fw-semibold rounded" href="#">
            üìä Estad√≠sticas
          </a>
        </li>

        <li class="nav-item">
          <a id="btn-alumnos" class="nav-link text-dark" href="#">üë• Alumnado</a>
        </li>

        <li class="nav-item">
          <a id="btn-profesores" class="nav-link text-dark" href="#">üßë‚Äçüè´ Profesorado</a>
        </li>

        <li class="nav-item">
          <a id="btn-nfc" class="nav-link text-dark" href="#">üì° Vinculaci√≥n NFC</a>
        </li>
      </ul>
    </aside>

    <main class="col-md-9 col-lg-10 p-4">

      <div id="vista-dashboard">
        <h1 class="mb-4">Control de Asistencia</h1>

        <div class="row mb-4">
          <div class="col-md-4">
            <div class="card text-white bg-primary">
              <div class="card-header">Salidas Hoy</div>
              <div class="card-body">
                <h2 class="text-center" id="kpi-salidas">0</h2>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="card text-white bg-danger">
              <div class="card-header">Incidencias</div>
              <div class="card-body">
                <h2 class="text-center" id="kpi-incidencias">0</h2>
              </div>
            </div>
          </div>

          <div class="col-md-4">
            <div class="card text-white bg-success">
              <div class="card-header">Activos</div>
              <div class="card-body">
                <h2 class="text-center" id="kpi-activos">0%</h2>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">Salidas semanales</div>
          <div class="card-body" style="height:40vh;">
            <canvas id="grafico"></canvas>
          </div>
        </div>
      </div>


      <div id="vista-alumnos" class="d-none">
        <h2 class="mb-3">Listado de Alumnos</h2>
        <div class="card">
          <div class="card-body">
            <table class="table table-striped">
              <thead class="table-dark">
                <tr>
                  <th>Nombre</th>
                  <th>Grupo</th>
                  <th>NFC</th>
                  <th>Recreo</th>
                </tr>
              </thead>
              <tbody id="tabla-alumnos"></tbody>
            </table>
          </div>
        </div>
      </div>

      <div id="vista-profesores" class="d-none">
        <h2 class="mb-3">Listado de Profesores</h2>
        <div class="card">
          <div class="card-body">
            <table class="table table-striped">
              <thead class="table-dark">
                <tr>
                  <th>Nombre</th>
                  <th>Grupo</th>
                  <th>NFC</th>
                </tr>
              </thead>
              <tbody id="tabla-profesores"></tbody>
            </table>
          </div>
        </div>
      </div>


      <div id="vista-nfc" class="d-none">

        <h2 class="mb-3">Vinculaci√≥n NFC</h2>

        <div class="card mb-4">
          <div class="card-body">
            <div class="row g-3">

              <div class="col-md-6">
                <label class="form-label">Seleccionar usuario</label>
                <select id="select-usuario" class="form-select"></select>
              </div>

              <div class="col-md-4">
                <label class="form-label">UID tarjeta</label>
                <input id="input-nfc" class="form-control" placeholder="Ej: 04:A2:99">
              </div>

              <div class="col-md-2 d-flex align-items-end">
                <button id="btn-vincular" class="btn btn-primary w-100">Vincular</button>
              </div>

            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-body">
            <table class="table table-striped">
              <thead class="table-dark">
                <tr>
                  <th>Nombre</th>
                  <th>Rol</th>
                  <th>NFC</th>
                </tr>
              </thead>
              <tbody id="tabla-nfc"></tbody>
            </table>
          </div>
        </div>

      </div>

    </main>
  </div>
</div>

<script src="data.js"></script>
</body>
</html>
